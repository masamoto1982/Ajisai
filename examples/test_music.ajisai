# === Ajisai Music DSL Test Suite ===
# This file tests the music DSL features: SEQ, SIM, PLAY

# === Basic Tests ===

# Single note
[ 440 ] PLAY

# Sequential playback (SEQ is default)
[ 440 550 660 ] SEQ PLAY

# Chord (simultaneous playback)
[ 440 550 660 ] SIM PLAY

# Duration specification
[ 440/2 550/1 660/4 ] PLAY

# Rest using NIL
[ 440 NIL 550 ] PLAY

# Rest using 0/n
[ 440 0/2 550 ] PLAY

# Lyrics
[ 440/2 'Hello' 550/2 'World' ] PLAY

# === Multitrack ===

# Two tracks simultaneous
[ 440 550 ] [ 220 275 ] .. SIM PLAY

# === Nested Structures ===

# Phrase definition
[ '[ 440 550 660 ] SEQ PLAY' ] 'PHRASE-A' DEF
[ '[ 330 392 440 ] SEQ PLAY' ] 'PHRASE-B' DEF

# Execute phrases
PHRASE-A
PHRASE-B

# === Just Intonation Test ===

# Define base frequency (C4 = 261.63 Hz)
[ 261.63 ] 'C4' DEF

# Define intervals (ratios)
[ 1 ] 'DO' DEF
[ 9/8 ] 'RE' DEF
[ 5/4 ] 'MI' DEF
[ 4/3 ] 'FA' DEF
[ 3/2 ] 'SO' DEF
[ 5/3 ] 'LA' DEF
[ 15/8 ] 'TI' DEF

# Define Hz conversion word
[ 'C4 *' ] 'Hz' DEF

# Play do-re-mi-so scale
DO Hz RE Hz MI Hz SO Hz [ 4 ] .. CONCAT PLAY

# Chord (do-mi-so)
DO Hz MI Hz SO Hz [ 3 ] .. CONCAT SIM PLAY
