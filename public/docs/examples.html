<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ajisai | Examples</title>
  <meta name="description" content="Ajisai code examples">
  <!-- 共通テーマ設定（CSSより先に読み込み） -->
  <script src="../ajisai-theme.js?v=20251229"></script>
  <style id="theme-vars"></style>
  <script>
    if (typeof AjisaiTheme !== 'undefined') {
      const vars = AjisaiTheme.getAll();
      let css = ':root {';
      for (const [key, value] of Object.entries(vars)) {
        css += `${key}: ${value};`;
      }
      css += '}';
      document.getElementById('theme-vars').textContent = css;
    }
  </script>
  <link href="css/style.css?v=20251229" media="screen" rel="stylesheet" />
</head>
<body>
  <div class="container">
    <header id="js-header" class="site-header"></header>
    <nav id="js-global-nav" class="global-nav"></nav>

    <main class="content-wrapper flexbox-a">
      <nav id="js-side-nav" class="side-nav"></nav>

      <article class="main-content">
        <h2>Examples</h2>

        <section>
          <h3>Vector Operations</h3>
<pre><code># Create vectors
[ 1 2 3 4 5 ]
[ [ 1 2 ] [ 3 4 ] ]
[ 1 'hello' TRUE ]

# Access elements
[ 10 20 30 ] [ 0 ] GET     # Result: [ 10 ]
[ 10 20 30 ] [ -1 ] GET    # Result: [ 30 ]

# Modify
[ 1 2 3 ] [ 1 ] [ 99 ] INSERT    # Result: [ 1 99 2 3 ]
[ 1 2 3 ] [ 1 ] [ 99 ] REPLACE   # Result: [ 1 99 3 ]
[ 1 2 3 ] [ 1 ] REMOVE           # Result: [ 1 3 ]

# Arithmetic with broadcasting
[ 1 2 3 ] [ 10 ] +               # Result: [ 11 12 13 ]
[ [ 1 2 ] [ 3 4 ] ] [ 10 20 ] +  # Result: [ [ 11 22 ] [ 13 24 ] ]</code></pre>
        </section>

        <section>
          <h3>Defining Words</h3>
<pre><code># Double a number
[ '[ 2 ] *' ] 'DOUBLE' DEF
[ 5 ] DOUBLE                 # Result: [ 10 ]

# Square
[ 'DUP *' ] 'SQUARE' DEF
[ 4 ] SQUARE                 # Result: [ 16 ]

# Even check
[ '[ 2 ] MOD [ 0 ] =' ] 'EVEN?' DEF
[ 6 ] EVEN?                  # Result: [ TRUE ]

# Absolute value
[
  '[ 0 ] <' : '[ -1 ] *' :
  ''
] 'ABS' DEF
[ -5 ] ABS                   # Result: [ 5 ]</code></pre>
        </section>

        <section>
          <h3>Higher-Order Functions</h3>
<pre><code># MAP
[ 1 2 3 4 5 ] 'DOUBLE' MAP       # Result: [ 2 4 6 8 10 ]

# FILTER
[ 1 2 3 4 5 6 ] 'EVEN?' FILTER   # Result: [ 2 4 6 ]

# FOLD
[ 1 2 3 4 5 ] [ 0 ] '+' FOLD     # Result: [ 15 ]
[ 1 2 3 4 5 ] [ 1 ] '*' FOLD     # Result: [ 120 ]

# Chaining
[ 1 2 3 4 5 6 7 8 9 10 ]
  'EVEN?' FILTER         # [ 2 4 6 8 10 ]
  'SQUARE' MAP           # [ 4 16 36 64 100 ]
  [ 0 ] '+' FOLD         # [ 220 ]</code></pre>
        </section>

        <section>
          <h3>Fraction Arithmetic</h3>
<pre><code># Exact fractions
[ 1/3 ] [ 1/6 ] +        # Result: [ 1/2 ]
[ 1/3 ] [ 2 ] *          # Result: [ 2/3 ]

# No rounding errors
[ 0.1 ] [ 0.2 ] +        # Result: [ 3/10 ]

# Large numbers
[ 1000000000000 ] [ 1000000000000 ] *</code></pre>
        </section>

        <section>
          <h3>Matrix Operations</h3>
<pre><code># Create matrix
[ 1 ] [ 9 ] RANGE [ 3 3 ] RESHAPE
# Result: [ [ 1 2 3 ] [ 4 5 6 ] [ 7 8 9 ] ]

# Transpose
[ [ 1 2 3 ] [ 4 5 6 ] ] TRANSPOSE
# Result: [ [ 1 4 ] [ 2 5 ] [ 3 6 ] ]

# Row sums
[ [ 1 2 3 ] [ 4 5 6 ] [ 7 8 9 ] ]
  '[ 0 ] '+' FOLD' MAP   # Result: [ [ 6 ] [ 15 ] [ 24 ] ]

# Fill with zeros
[ 3 3 ] [ 0 ] FILL
# Result: [ [ 0 0 0 ] [ 0 0 0 ] [ 0 0 0 ] ]</code></pre>
        </section>

        <section>
          <h3>String Processing</h3>
<pre><code># Reverse string
[ 'hello' ] CHARS REVERSE JOIN   # Result: [ 'olleh' ]

# String length
[ 'hello' ] CHARS LENGTH         # Result: [ 5 ]

# Palindrome check
[ 'CHARS DUP REVERSE =' ] 'PALINDROME?' DEF
[ 'radar' ] PALINDROME?          # Result: [ TRUE ]</code></pre>
        </section>

        <section>
          <h3>Date/Time</h3>
<pre><code># Current time
NOW                              # Result: [ @2024-11-25 14:00:00 ]

# Extract components
NOW 'LOCAL' DATETIME             # Result: [ [ 2024 11 25 14 0 0 ] ]

# Add one hour
NOW [ 3600 ] +                   # Adds 3600 seconds

# Create specific date
[ [ 2024 12 25 0 0 0 ] ] 'LOCAL' TIMESTAMP</code></pre>
        </section>

        <section>
          <h3>Stack Mode</h3>
<pre><code># Stack length
a b c d e .. LENGTH      # Result: a b c d e [ 5 ]

# Get from stack
a b c d [ 2 ] .. GET     # Result: a b c d [ c ]

# Reverse stack
a b c .. REVERSE         # Result: c b a

# Combine to vector
a b c d e .. CONCAT      # Result: [ a b c d e ]</code></pre>
        </section>

        <section>
          <h3>Practical: Factorial</h3>
<pre><code># Using FOLD
[ 1 ] [ 5 ] RANGE [ 1 ] '*' FOLD    # 5! = [ 120 ]

# Using recursion
[
  '[ 1 ] <=' : '[ 1 ]' :
  '[ 1 ] - FACTORIAL *'
] 'FACTORIAL' DEF
[ 5 ] FACTORIAL                      # Result: [ 120 ]</code></pre>
        </section>
      </article>
    </main>

    <footer id="js-footer" class="site-footer"></footer>
  </div>
  <script src="config.js"></script>
  <script src="script.js"></script>
</body>
</html>
