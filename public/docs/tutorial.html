<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ajisai | Tutorial</title>
  <meta name="description" content="Ajisai tutorial for beginners">
  <!-- 共通設定・テーマ（CSSより先に読み込み） -->
  <script src="../ajisai-config.js?v=20251230"></script>
  <script src="../ajisai-theme.js?v=20251230"></script>
  <style id="theme-vars"></style>
  <script>
    if (typeof AjisaiTheme !== 'undefined') {
      const vars = AjisaiTheme.getAll();
      let css = ':root {';
      for (const [key, value] of Object.entries(vars)) {
        css += `${key}: ${value};`;
      }
      css += '}';
      document.getElementById('theme-vars').textContent = css;
    }
  </script>
  <link href="../ajisai-base.css?v=20251230" media="screen" rel="stylesheet" />
  <link href="css/style.css?v=20251230" media="screen" rel="stylesheet" />
</head>
<body>
  <div class="container">
    <header id="js-header" class="site-header"></header>
    <nav id="js-global-nav" class="global-nav"></nav>

    <main class="content-wrapper flexbox-a">
      <nav id="js-side-nav" class="side-nav"></nav>

      <article class="main-content">
        <h2>Tutorial</h2>

        <section>
          <h3>Getting Started</h3>
          <p>Welcome to Ajisai! Try examples in the <a href="https://masamoto1982.github.io/Ajisai/" target="_blank">interactive demo</a>.</p>
        </section>

        <section>
          <h3>Lesson 1: The Stack</h3>
          <p>Ajisai is stack-based. Values are pushed onto a stack:</p>
<pre><code>[ 1 ]       # Stack: [ 1 ]
[ 2 ]       # Stack: [ 1 ] [ 2 ]
[ 3 ]       # Stack: [ 1 ] [ 2 ] [ 3 ]</code></pre>

          <p>Operations use and push to the stack:</p>
<pre><code>[ 2 ] [ 3 ] +    # Takes both, pushes [ 5 ]
[ 4 ] *          # Takes [ 5 ] and [ 4 ], pushes [ 20 ]</code></pre>
        </section>

        <section>
          <h3>Lesson 2: Vectors</h3>
<pre><code># Create vectors
[ 1 2 3 ]            # Vector with 3 numbers
[ 'a' 'b' 'c' ]      # Vector with strings
[ 1 'hello' TRUE ]   # Mixed types OK!

# Operations
[ 1 2 3 4 5 ] LENGTH         # Result: [ 5 ]
[ 10 20 30 ] [ 1 ] GET       # Result: [ 20 ]
[ 1 2 3 ] REVERSE            # Result: [ 3 2 1 ]

# Arithmetic
[ 1 2 3 ] [ 4 5 6 ] +        # Result: [ 5 7 9 ]
[ 2 4 6 ] [ 2 ] /            # Result: [ 1 2 3 ]</code></pre>
        </section>

        <section>
          <h3>Lesson 3: Defining Words</h3>
<pre><code># Define a word
[ '[ 2 ] *' ] 'DOUBLE' DEF

# Use it
[ 5 ] DOUBLE                 # Result: [ 10 ]
[ 3 ] DOUBLE                 # Result: [ 6 ]

# More examples
[ 'DUP *' ] 'SQUARE' DEF
[ 4 ] SQUARE                 # Result: [ 16 ]

[ '[ 2 ] MOD [ 0 ] =' ] 'EVEN?' DEF
[ 4 ] EVEN?                  # Result: [ TRUE ]</code></pre>
        </section>

        <section>
          <h3>Lesson 4: Higher-Order Functions</h3>
<pre><code># MAP - apply to each
[ 1 2 3 4 5 ] 'DOUBLE' MAP   # Result: [ 2 4 6 8 10 ]

# FILTER - keep matching
[ 1 2 3 4 5 6 ] 'EVEN?' FILTER    # Result: [ 2 4 6 ]

# FOLD - reduce to one
[ 1 2 3 4 5 ] [ 0 ] '+' FOLD      # Result: [ 15 ]

# Chain them
[ 1 2 3 4 5 6 7 8 9 10 ]
  'EVEN?' FILTER         # [ 2 4 6 8 10 ]
  'SQUARE' MAP           # [ 4 16 36 64 100 ]
  [ 0 ] '+' FOLD         # [ 220 ]</code></pre>
        </section>

        <section>
          <h3>Lesson 5: Conditionals</h3>
<pre><code># Guard syntax
condition : action : condition : action : default

# Absolute value
[
  '[ 0 ] <' : '[ -1 ] *' :
  ''
] 'ABS' DEF

[ -5 ] ABS    # Result: [ 5 ]
[ 3 ] ABS     # Result: [ 3 ]

# Sign function
[
  '[ 0 ] <' : '[ -1 ]' :
  '[ 0 ] >' : '[ 1 ]' :
  '[ 0 ]'
] 'SIGN' DEF</code></pre>
        </section>

        <section>
          <h3>Lesson 6: Exact Fractions</h3>
<pre><code># All numbers are fractions
[ 1/3 ] [ 1/6 ] +        # Result: [ 1/2 ] (exact!)
[ 0.1 ] [ 0.2 ] +        # Result: [ 3/10 ] (no float errors)

# Rounding when needed
[ 7/3 ] FLOOR            # Result: [ 2 ]
[ 7/3 ] CEIL             # Result: [ 3 ]</code></pre>
        </section>

        <section>
          <h3>Practice Exercises</h3>

          <h4>1. Calculate Average</h4>
          <p>Define AVERAGE for a vector.</p>
          <details>
            <summary>Solution</summary>
<pre><code>[ 'DUP [ 0 ] '+' FOLD SWAP LENGTH /' ] 'AVERAGE' DEF
[ 2 4 6 8 10 ] AVERAGE    # Result: [ 6 ]</code></pre>
          </details>

          <h4>2. Factorial</h4>
          <p>Calculate 6! using RANGE and FOLD.</p>
          <details>
            <summary>Solution</summary>
<pre><code>[ 1 ] [ 6 ] RANGE [ 1 ] '*' FOLD    # Result: [ 720 ]</code></pre>
          </details>

          <h4>3. Sum of Multiples</h4>
          <p>Sum numbers 1-20 divisible by 3.</p>
          <details>
            <summary>Solution</summary>
<pre><code>[ '[ 3 ] MOD [ 0 ] =' ] 'DIV3?' DEF
[ 1 ] [ 20 ] RANGE
  'DIV3?' FILTER
  [ 0 ] '+' FOLD    # Result: [ 63 ]</code></pre>
          </details>
        </section>

        <section>
          <h3>Next Steps</h3>
          <ul>
            <li><a href="syntax.html">Syntax Reference</a></li>
            <li><a href="words.html">Built-in Words</a></li>
            <li><a href="examples.html">More Examples</a></li>
            <li><a href="https://masamoto1982.github.io/Ajisai/" target="_blank">Interactive Demo</a></li>
          </ul>
        </section>
      </article>
    </main>

    <footer id="js-footer" class="site-footer"></footer>
  </div>
  <script src="script.js"></script>
</body>
</html>
